import ReactMapboxGl, { Marker } from "react-mapbox-gl";
// import { Marker } from "react-mapbox-gl";



import React, { Component } from "react";
import apiHandler from "../api/apiHandler";
const Map = ReactMapboxGl({
  accessToken:
    "pk.eyJ1IjoicmFwaDEyMzQiLCJhIjoiY2tnNmxkcnNnMGcwMjJxbW9yb2kyZ2dvYiJ9.4vyIkPMCJCf2FwJOQ3wQ2Q",
});

export default class Mapbox extends Component {
  state = {
    items: [],
  };

  componentDidMount() {
    apiHandler.getItems().then((data) => {
      this.setState({ items: data });
    });
  }

  render() {
    console.log(this.state);
    return (
      <div>
        <Map
          style="mapbox://styles/mapbox/streets-v9"
          containerStyle={{
            height: "100vh",
            width: "100vw",
          }}
        >
       
          {this.state.items.map((item , key) => (
            
        <Marker key={key} 
          coordinates={item.location.coordinates}
          anchor="bottom">
          <img src="data:image/jpeg;base64,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" alt="i"/>
        </Marker>
        ))}



        
      </Map>
        ;
      </div>
    );
  }
}
